var VideoCompare=function(){"use strict";var e=[],t=[];function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t,n){return t=d(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,u(i.key),i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){d=!0,a=e},f:function(){try{s||null==i.return||i.return()}finally{if(d)throw a}}}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function u(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}!function(n,i){if(n&&"undefined"!=typeof document){var r,o=!0===i.prepend?"prepend":"append",a=!0===i.singleTag,s="string"==typeof i.container?document.querySelector(i.container):document.getElementsByTagName("head")[0];if(a){var d=e.indexOf(s);-1===d&&(d=e.push(s)-1,t[d]={}),r=t[d]&&t[d][o]?t[d][o]:t[d][o]=c()}else r=c();65279===n.charCodeAt(0)&&(n=n.substring(1)),r.styleSheet?r.styleSheet.cssText+=n:r.appendChild(document.createTextNode(n))}function c(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),i.attributes)for(var t=Object.keys(i.attributes),n=0;n<t.length;n++)e.setAttribute(t[n],i.attributes[t[n]]);var r="prepend"===o?"afterbegin":"beforeend";return s.insertAdjacentElement(r,e),e}}(".vc-slider-container {\n    display: inline-block;\n    line-height: 0;\n    position: relative;\n    width: 100%;\n}\n\n.vc-slider-container > .video-wrapper {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    max-width: none;\n}\n\n.vc-slider-container > .vc-slider-clipper {\n    width: 50%;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    overflow: hidden;\n    z-index: 3;\n    box-shadow: 0 0 0 2px white;\n}\n\n.vc-slider-container > .vc-slider-clipper > .video-wrapper {\n    width: 200%;\n    position: absolute;\n    height: 100%;\n    max-width: none;\n    left: 0;\n}\n\n.vc-wiper-container {\n    display: inline-block;\n    line-height: 0;\n    position: relative;\n    width: 100%;\n}\n\n.vc-wiper-container > .video-wrapper {\n    width: 99%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 99%;\n}\n\n.vc-wiper-container > .vc-wiper-clipper-outer  {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    overflow: hidden;\n    z-index: 3;\n}\n\n.vc-wiper-container > .vc-wiper-clipper-outer > .vc-wiper-clipper {\n    width: 99%; /* leave some space for border */\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 99%;\n    overflow: hidden;\n    z-index: 3;\n}\n\n.vc-wiper-container > .vc-wiper-clipper-outer > .vc-wiper-clipper > .video-wrapper > video  {\n    width: 100%;\n    position: absolute;\n    height: 100%;\n    max-width: none;\n    left: 0;\n}\n\n.vc-three-video-comparison-container {\n    display: inline-block;\n    line-height: 0;\n    position: relative;\n    width: 100%;\n}\n\n.vc-three-video-comparison-container > .video-wrapper {\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    max-width: none;\n}\n\n.vc-three-video-comparison-container > .vc-slider-clipper {\n    width: 50%;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    overflow: hidden;\n    z-index: 3;\n    box-shadow: 0 0 0 2px white;\n}\n\n.vc-three-video-comparison-container > .vc-slider-clipper > .video-wrapper {\n    width: 200%;\n    position: absolute;\n    height: 100%;\n    max-width: none;\n    left: 0;\n}\n\n.vc-side-by-side-container {\n    display: flex;\n    justify-content: center;\n    gap: 0px;\n}\n\n.vc-side-by-side-container > .video-wrapper {\n    width: 50%;\n    max-width: 50%;\n    height: auto;\n    position: relative;\n}\n\n.vc-side-by-side-container > .video-wrapper > video {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n}\n\n.vc-four-grid-container > .video-wrapper {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.vc-four-grid-container > .video-wrapper > video {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n}\n\n.vc-four-grid-container {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 1fr 1fr;\n    gap: 0;\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n}",{});var h=function(){return a((function e(t){r(this,e),this.container=t,this.videos=[],this.wrappers=[],this.readyStates=[],this.captions=[]}),[{key:"addVideo",value:function(e){var t=this,n=this.videos.length;this.videos.push(e),this.readyStates.push(!1),e.pause(),e.currentTime=0,e.addEventListener("loadstart",(function(){return t.resetReadyStates()})),e.addEventListener("canplaythrough",(function(){t.readyStates[n]=!0,t.checkAndPlay()}))}},{key:"addCaption",value:function(e,t){var n=e.getAttribute("vc-caption");if(n){var i=document.createElement("span");i.textContent=n,i.style.position="absolute",i.style.bottom="10px",i.style.right="10px",i.style.backgroundColor="rgba(0, 0, 0, 0.7)",i.style.color="white",i.style.padding="5px 10px",i.style.borderRadius="4px",i.style.minHeight="fit-content",i.style.lineHeight="1.4",i.style.wordBreak="break-word",i.style.maxWidth="80%",t.appendChild(i),this.captions.push(i),new MutationObserver((function(t){t.forEach((function(t){if("attributes"===t.type&&"vc-caption"===t.attributeName){var n=e.getAttribute("vc-caption");i.textContent=n}}))})).observe(e,{attributes:!0,attributeFilter:["vc-caption"]})}}},{key:"addVideoWithWrapper",value:function(e){var t=document.createElement("div");e.parentNode.insertBefore(t,e),t.appendChild(e),this.addVideo(e),this.wrappers.push(t),t.classList.add("video-wrapper"),e.style.width="100%",e.style.height="100%",e.style.objectFit="contain",e.style.maxWidth="none",this.addCaption(e,t)}},{key:"resetReadyStates",value:function(){this.readyStates.fill(!1),this.videos.forEach((function(e){return e.pause()})),this.videos.forEach((function(e){return e.currentTime=0}))}},{key:"checkAndPlay",value:function(){this.readyStates.every((function(e){return e}))&&this.videos.forEach((function(e){return e.play()}))}},{key:"syncVideos",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.videos[t];n.addEventListener("timeupdate",(function(){e.videos.forEach((function(e,i){i!==t&&Math.abs(e.currentTime-n.currentTime)>.05&&(e.currentTime=n.currentTime)}))}))}}])}(),v=function(e){function t(e){var n;r(this,t),n=i(this,t,[e]);var o=e.getElementsByTagName("video")[1],a=e.getElementsByTagName("video")[0];return n.addVideoWithWrapper(o),n.addVideoWithWrapper(a),n.setupWiper(),n.syncVideos(0),n}return c(t,e),a(t,[{key:"setupWiper",value:function(){var e=this,t=this.videos[0],n=this.videos[1],i=this.wrappers[0],r=this.wrappers[1],o=document.createElement("div");o.classList.add("vc-wiper-clipper-outer");var a=document.createElement("div");a.classList.add("vc-wiper-clipper"),o.appendChild(a),r.parentNode.insertBefore(o,r),a.appendChild(r),this.video2Clipped=!0,this.animationTriggered=!1,t.addEventListener("loadedmetadata",(function(){e.container.style.aspectRatio="".concat(t.videoWidth/t.videoHeight," / 1")})),t.addEventListener("timeupdate",(function(){!e.animationTriggered&&n.currentTime>.5*n.duration&&(console.log("triggering animation"),requestAnimationFrame((function(){o.style.backgroundColor="white"})),o.getBoundingClientRect(),e.startAnimation(o),e.startAnimation(a),e.animationTriggered=!0)})),t.addEventListener("seeked",(function(){if(t.currentTime<.5*t.duration){if(e.animationTriggered=!1,a.style.clipPath=null,o.style.clipPath=null,e.video2Clipped){var n=i;i.parentNode.insertBefore(r,i),a.appendChild(n)}else{var s=r;r.parentNode.insertBefore(i,r),a.appendChild(s)}e.video2Clipped=!e.video2Clipped,requestAnimationFrame((function(){o.style.backgroundColor=null}))}})),t.addEventListener("loadstart",(function(){if(e.animationTriggered=!1,a.style.clipPath=null,o.style.clipPath=null,n.parentNode===e.videoContainer){var t=r;r.parentNode.insertBefore(i,r),a.appendChild(t),e.video2Clipped=!0,e.animationTriggered=!1}}))}},{key:"startAnimation",value:function(e){var t=Date.now(),n=function(){var i=Date.now()-t,r=Math.min(1,i/1e3),o="polygon(\n                0% ".concat(200-200*r+.1,"%,\n                ").concat(200-200*r+.1,"% 0%,\n                0% 0%\n            )");e.style.clipPath=o,r<1&&requestAnimationFrame(n)};requestAnimationFrame(n)}}])}(h),f=function(e){function t(e){var n;r(this,t),n=i(this,t,[e]);var o=e.getElementsByTagName("video")[1],a=e.getElementsByTagName("video")[0];return n.addVideoWithWrapper(o),n.addVideoWithWrapper(a),n.setupSlider(),n.syncVideos(0),n}return c(t,e),a(t,[{key:"setupSlider",value:function(){var e=this,t=this.wrappers[1],n=document.createElement("div");n.classList.add("vc-slider-clipper"),t.parentNode.insertBefore(n,t),n.appendChild(t),this.captions.length>1&&(this.captions[1].style.right=null,this.captions[1].style.left="10px");var i=this.videos[0];i.addEventListener("loadedmetadata",(function(){e.container.style.aspectRatio="".concat(i.videoWidth/i.videoHeight," / 1")}));var r=function(i){var r=((i.touches?i.touches[0].pageX:i.pageX)-e.container.getBoundingClientRect().left)/e.container.offsetWidth*100;r<=100&&(n.style.width=r+"%",t.style.width=100/r*100+"%")};this.container.addEventListener("mousemove",r,!1),this.container.addEventListener("touchstart",r,!1),this.container.addEventListener("touchmove",r,!1)}}])}(h),y=function(e){function t(e){var n;r(this,t),n=i(this,t,[e]);var o=e.getElementsByTagName("video")[2];return n.addVideo(o),n.addCaption(o,n.wrappers[0]),n.captions.length>2&&(n.captions[2].style.bottom=null,n.captions[2].style.top="5px",n.captions[2].style.right="5px",n.captions[2].style.zIndex="5",n.captions[2].style.fontSize="10px",n.captions[2].style.padding="2px 4px",n.captions[2].style.borderRadius="2px",n.captions[2].style.minHeight="fit-content",n.captions[2].style.lineHeight="1.4",n.captions[2].style.wordBreak="break-word",n.captions[2].style.maxWidth="80%"),n.wrappers[0].appendChild(o),o.style.width="20%",o.style.height="20%",o.style.position="absolute",o.style.top="0",o.style.right="0",o.style.zIndex="4",n.syncVideos(0),n}return c(t,e),a(t)}(f),m=function(e){function t(e){var n;r(this,t),n=i(this,t,[e]);var o=e.getElementsByTagName("video")[0],a=e.getElementsByTagName("video")[1];return n.initialize(o,a),n}return c(t,e),a(t,[{key:"initialize",value:function(e,t){var n=this;this.addVideoWithWrapper(e),this.addVideoWithWrapper(t),this.syncVideos(0),e.addEventListener("loadedmetadata",(function(){n.container.style.aspectRatio="".concat(2*e.videoWidth/e.videoHeight," / 1")}))}}])}(h),g=function(e){function t(e){var n;r(this,t),n=i(this,t,[e]);var o=e.getElementsByTagName("video");return n.initialize(o),n}return c(t,e),a(t,[{key:"initialize",value:function(e){var t,n=this,i=s(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;this.addVideoWithWrapper(r)}}catch(e){i.e(e)}finally{i.f()}this.syncVideos(0),e[0].addEventListener("loadedmetadata",(function(){n.container.style.aspectRatio="".concat(2*e[0].videoWidth/(2*e[0].videoHeight)," / 1")}))}}])}(h);function w(){var e=function(){for(var e=document.getElementsByClassName("vc-slider-container"),t=0;t<e.length;t++){var n=e[t];n&&new f(n)}for(var i=document.getElementsByClassName("vc-wiper-container"),r=0;r<i.length;r++){var o=i[r];o&&new v(o)}for(var a=document.getElementsByClassName("vc-side-by-side-container"),s=0;s<a.length;s++){var d=a[s];d&&new m(d)}for(var c=document.getElementsByClassName("vc-three-video-comparison-container"),l=0;l<c.length;l++){var p=c[l];p&&new y(p)}for(var u=document.getElementsByClassName("vc-four-grid-container"),h=0;h<u.length;h++){var w=u[h];w&&new g(w)}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}return w(),w}();
